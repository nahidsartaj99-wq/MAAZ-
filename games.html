<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maaz Gaming Arena</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #121212; --card: #1e1e1e; --text: #fff; --neon-blue: #00D4FF; --neon-red: #FF3131; --ludo-r: #ff4757; --ludo-g: #2ed573; --ludo-y: #ffa502; --ludo-b: #3742fa; }
        body { background: var(--bg); color: var(--text); font-family: 'Outfit', sans-serif; margin: 0; padding: 0; overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        
        /* NAVIGATION */
        .nav-bar { padding: 15px; display: flex; justify-content: space-between; align-items: center; background: #000; box-shadow: 0 4px 15px rgba(0,0,0,0.5); z-index: 100; }
        .home-btn { background: #333; color: white; border: none; padding: 8px 15px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        /* MENUS */
        .menu-screen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; text-align: center; gap: 20px; animation: fade 0.5s; }
        .game-card { width: 80%; max-width: 300px; padding: 30px; border-radius: 20px; background: var(--card); box-shadow: 0 10px 30px rgba(0,0,0,0.3); cursor: pointer; transition: 0.2s; border: 2px solid #333; }
        .game-card:hover { transform: scale(1.05); border-color: var(--neon-blue); }
        .game-card h2 { margin: 10px 0 0; }
        
        /* GAME CONTAINERS */
        .game-container { display: none; flex-direction: column; align-items: center; justify-content: flex-start; height: 100%; padding-top: 20px; animation: slideUp 0.4s; overflow-y: auto; }
        .active { display: flex; }
        @keyframes slideUp { from {transform: translateY(50px); opacity: 0;} to {transform: translateY(0); opacity: 1;} }

        /* --- TIC TAC TOE STYLES --- */
        .ttt-board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 300px; margin-top: 30px; }
        .ttt-cell { aspect-ratio: 1; background: #222; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 3rem; font-weight: 800; cursor: pointer; box-shadow: inset 0 0 10px #000; }
        .ttt-x { color: var(--neon-blue); text-shadow: 0 0 15px var(--neon-blue); }
        .ttt-o { color: var(--neon-red); text-shadow: 0 0 15px var(--neon-red); }
        .ttt-controls { margin-top: 20px; display: flex; gap: 10px; }

        /* --- LUDO STYLES --- */
        #ludo-setup { text-align: center; }
        .ludo-wrapper { width: 340px; height: 340px; position: relative; margin-top: 10px; background: white; border: 2px solid #333; }
        .ludo-board { width: 100%; height: 100%; display: grid; grid-template-columns: repeat(15, 1fr); grid-template-rows: repeat(15, 1fr); }
        
        .cell { border: 0.5px solid #ddd; position: relative; }
        .base { grid-row: span 6; grid-column: span 6; border: 1px solid #000; display: flex; align-items: center; justify-content: center; }
        .base-inner { width: 70%; height: 70%; background: white; display: grid; grid-template-columns: 1fr 1fr; gap: 5px; padding: 10px; border-radius: 10px; }
        .spot { border-radius: 50%; border: 1px solid rgba(0,0,0,0.1); }
        
        /* Colors */
        .bg-r { background: var(--ludo-r); } .bg-g { background: var(--ludo-g); }
        .bg-y { background: var(--ludo-y); } .bg-b { background: var(--ludo-b); }
        .safe { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23888"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>'); background-size: 80%; background-position: center; background-repeat: no-repeat; opacity: 0.8; }

        /* Tokens */
        .token { width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.5); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; transition: 0.3s; cursor: pointer; }
        .token.stack-2 { transform: translate(-50%, -60%); } 
        .token.highlight { border: 2px solid #fff; box-shadow: 0 0 10px yellow; animation: bounce 0.5s infinite alternate; }
        @keyframes bounce { from { transform: translate(-50%, -50%); } to { transform: translate(-50%, -65%); } }

        /* Ludo Controls */
        .ludo-panel { margin-top: 15px; background: var(--card); padding: 10px; border-radius: 15px; width: 340px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #333; }
        .dice-box { width: 50px; height: 50px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: black; border: 2px solid #333; cursor: pointer; }
        .turn-ind { font-size: 0.9rem; text-transform: uppercase; font-weight: 800; letter-spacing: 1px; }
        
        button { background: var(--neon-blue); border: none; padding: 10px 20px; border-radius: 8px; color: #000; font-weight: bold; cursor: pointer; }
        select { padding: 10px; border-radius: 8px; background: #333; color: white; border: 1px solid #555; }
    </style>
</head>
<body><div class="nav-bar">
    <div style="font-weight:800; color:var(--neon-blue);">MAAZ ARENA</div>
    <button class="home-btn" onclick="window.location.href='index.html'">üè† Home</button>
</div>

<div id="menu" class="menu-screen">
    <h1>Choose Game</h1>
    <div class="game-card" onclick="startTTT()">
        <div style="font-size:3rem;">‚ùå‚≠ï</div>
        <h2>Tic Tac Toe</h2>
        <p>Neon Edition ‚Ä¢ Unbeatable AI</p>
    </div>
    <div class="game-card" onclick="showLudoSetup()">
        <div style="font-size:3rem;">üé≤</div>
        <h2>Ludo Master</h2>
        <p>4 Player ‚Ä¢ AI Support</p>
    </div>
</div>

<div id="ttt-game" class="game-container">
    <h2 style="color:var(--neon-blue); margin:0;">NEON TACTICS</h2>
    <div class="ttt-board" id="t-board"></div>
    <div id="t-status" style="margin-top:20px; font-weight:bold;">Player X's Turn</div>
    <div class="ttt-controls">
        <button onclick="resetTTT()">Restart</button>
        <button onclick="document.getElementById('ttt-game').classList.remove('active'); document.getElementById('menu').style.display='flex';" style="background:#333; color:white;">Exit</button>
    </div>
</div>

<div id="ludo-setup" class="game-container">
    <h2>Ludo Setup</h2>
    <p>How many humans?</p>
    <select id="human-count">
        <option value="1">1 Human (vs 3 CPU)</option>
        <option value="2">2 Humans (vs 2 CPU)</option>
        <option value="3">3 Humans (vs 1 CPU)</option>
        <option value="4">4 Humans (No CPU)</option>
    </select>
    <br><br>
    <button onclick="initLudo()">Start Game</button>
    <br><br>
    <button onclick="exitLudo()" style="background:#333; color:white;">Back</button>
</div><div id="ludo-game" class="game-container">
    <div class="ludo-wrapper" id="ludo-board-el"></div>
    
    <div class="ludo-panel">
        <div>
            <div class="turn-ind" id="turn-text" style="color:var(--ludo-r)">RED'S TURN</div>
            <div style="font-size:0.7rem; opacity:0.7;" id="status-text">Roll the dice</div>
        </div>
        <div class="dice-box" id="dice" onclick="rollDice()">üé≤</div>
    </div>
</div>

<script>
    // --- TIC TAC TOE LOGIC ---
    let tBoard = Array(9).fill(null), tTurn = 'X';
    function startTTT() {
        document.getElementById('menu').style.display = 'none';
        document.getElementById('ttt-game').classList.add('active');
        renderTTT();
    }
    function renderTTT() {
        const b = document.getElementById('t-board'); b.innerHTML = '';
        tBoard.forEach((c, i) => {
            let d = document.createElement('div'); d.className = 'ttt-cell ' + (c=='X'?'ttt-x':c=='O'?'ttt-o':'');
            d.innerText = c || '';
            d.onclick = () => moveTTT(i);
            b.appendChild(d);
        });
    }
    function moveTTT(i) {
        if(tBoard[i] || checkWin(tBoard)) return;
        tBoard[i] = 'X'; renderTTT();
        if(checkWin(tBoard)) { document.getElementById('t-status').innerText = "YOU WIN!"; return; }
        if(!tBoard.includes(null)) { document.getElementById('t-status').innerText = "DRAW!"; return; }
        
        // AI Turn (Minimax)
        document.getElementById('t-status').innerText = "AI Thinking...";
        setTimeout(() => {
            let best = minimax(tBoard, 'O');
            tBoard[best.idx] = 'O'; renderTTT();
            if(checkWin(tBoard)) document.getElementById('t-status').innerText = "AI WINS!";
            else document.getElementById('t-status').innerText = "Your Turn";
        }, 500);
    }
    function checkWin(b) {
        const w = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        return w.find(c => b[c[0]] && b[c[0]]==b[c[1]] && b[c[0]]==b[c[2]]) ? b[w.find(c => b[c[0]] && b[c[0]]==b[c[1]] && b[c[0]]==b[c[2]])[0]] : null;
    }
    function minimax(bd, p) {
        let empty = bd.map((v,i)=>v==null?i:null).filter(v=>v!=null);
        let winner = checkWin(bd);
        if(winner=='O') return {score:10}; if(winner=='X') return {score:-10}; if(empty.length==0) return {score:0};
        let moves = [];
        for(let i of empty) {
            let nb = [...bd]; nb[i]=p;
            let res = minimax(nb, p=='O'?'X':'O');
            moves.push({idx:i, score:res.score});
        }
        return moves.reduce((a,c) => p=='O' ? (c.score > a.score ? c : a) : (c.score < a.score ? c : a));
    }
    function resetTTT() { tBoard=Array(9).fill(null); renderTTT(); document.getElementById('t-status').innerText="Player X's Turn"; }
</script><script>
    // --- LUDO LOGIC ---
    const colors = ['r', 'g', 'y', 'b']; // Red, Green, Yellow, Blue
    
    // Hardcoded Coordinate mapping for 15x15 grid (Standard Path)
    function getCoords(step, colorIdx) {
        const track = [[6,1],[6,2],[6,3],[6,4],[6,5],[5,6],[4,6],[3,6],[2,6],[1,6],[0,6],[0,7],[0,8],[1,8],[2,8],[3,8],[4,8],[5,8],[6,9],[6,10],[6,11],[6,12],[6,13],[6,14],[7,14],[8,14],[8,13],[8,12],[8,11],[8,10],[8,9],[9,8],[10,8],[11,8],[12,8],[13,8],[14,8],[14,7],[14,6],[13,6],[12,6],[11,6],[10,6],[9,6],[8,5],[8,4],[8,3],[8,2],[8,1],[8,0],[7,0],[6,0]];
        const homeR = [[7,1],[7,2],[7,3],[7,4],[7,5],[7,6]];
        const homeG = [[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]];
        const homeY = [[7,13],[7,12],[7,11],[7,10],[7,9],[7,8]];
        const homeB = [[13,7],[12,7],[11,7],[10,7],[9,7],[8,7]];

        let offset = colorIdx * 13; 
        let adjustedStep = step;
        
        if (adjustedStep < 51) {
            let idx = (offset + adjustedStep) % 52;
            return {r: track[idx][0], c: track[idx][1]};
        } else {
            // Home stretch
            let hStep = adjustedStep - 51;
            if(hStep > 5) hStep = 5; // End
            if(colorIdx==0) return {r: homeR[hStep][0], c: homeR[hStep][1]};
            if(colorIdx==1) return {r: homeG[hStep][0], c: homeG[hStep][1]};
            if(colorIdx==2) return {r: homeY[hStep][0], c: homeY[hStep][1]};
            if(colorIdx==3) return {r: homeB[hStep][0], c: homeB[hStep][1]};
        }
        return {r:0,c:0};
    }

    let tokens = []; // {color: 0-3, id: 0-3, pos: -1 (base) to 56 (win)}
    let turn = 0; // 0=Red, 1=Green...
    let diceVal = 0;
    let playersType = []; // 'human' or 'cpu'
    let state = 'WAIT'; // WAIT, ROLL, MOVE

    function showLudoSetup() {
        document.getElementById('menu').style.display = 'none';
        document.getElementById('ludo-setup').classList.add('active');
    }
    function exitLudo() {
        document.getElementById('ludo-setup').classList.remove('active');
        document.getElementById('ludo-game').classList.remove('active');
        document.getElementById('menu').style.display = 'flex';
    }

    function initLudo() {
        document.getElementById('ludo-setup').classList.remove('active');
        document.getElementById('ludo-game').classList.add('active');
        
        // Draw Board
        const b = document.getElementById('ludo-board-el'); b.innerHTML = '';
        for(let r=0; r<15; r++) {
            for(let c=0; c<15; c++) {
                let d = document.createElement('div'); d.className = 'cell';
                d.style.gridRowStart = r+1; d.style.gridColumnStart = c+1;
                
                // Bases & Centers
                if(r<6 && c<6) { if(r==0 && c==0) { d.className='base bg-r'; d.innerHTML='<div class="base-inner"><div class="spot"></div><div class="spot"></div><div class="spot"></div><div class="spot"></div></div>'; b.appendChild(d); } continue; }
                if(r<6 && c>8) { if(r==0 && c==9) { d.className='base bg-g'; d.innerHTML='<div class="base-inner"><div class="spot"></div><div class="spot"></div><div class="spot"></div><div class="spot"></div></div>'; b.appendChild(d); } continue; }
                if(r>8 && c>8) { if(r==9 && c==9) { d.className='base bg-y'; d.innerHTML='<div class="base-inner"><div class="spot"></div><div class="spot"></div><div class="spot"></div><div class="spot"></div></div>'; b.appendChild(d); } continue; }
                if(r>8 && c<6) { if(r==9 && c==0) { d.className='base bg-b'; d.innerHTML='<div class="base-inner"><div class="spot"></div><div class="spot"></div><div class="spot"></div><div class="spot"></div></div>'; b.appendChild(d); } continue; }
                
                // Path Colors
                if(r==7 && c>0 && c<6) d.classList.add('bg-r');
                if(c==7 && r>0 && r<6) d.classList.add('bg-g');
                if(r==7 && c>8 && c<14) d.classList.add('bg-y');
                if(c==7 && r>8 && r<14) d.classList.add('bg-b');
                if(r==7 && c==7) d.style.background = 'conic-gradient(#2ed573 90deg, #ff4757 90deg 180deg, #3742fa 180deg 270deg, #ffa502 270deg)';

                // Safe Stars
                if((r==6&&c==1)||(r==2&&c==6)||(r==1&&c==8)||(r==6&&c==12)||(r==8&&c==13)||(r==12&&c==8)||(r==13&&c==6)||(r==8&&c==2)) d.classList.add('safe');
                
                b.appendChild(d);
            }
        }

        // Init Logic
        let hCount = parseInt(document.getElementById('human-count').value);
        playersType = [];
        for(let i=0; i<4; i++) playersType.push(i < hCount ? 'human' : 'cpu');
        
        tokens = [];
        for(let c=0; c<4; c++) {
            for(let t=0; t<4; t++) tokens.push({c, t, pos: -1, el: null});
        }
        
        // Render Tokens
        tokens.forEach(tk => {
            let el = document.createElement('div');
            el.className = 'token';
            el.style.backgroundColor = cToHex(tk.c);
            el.onclick = () => tokenClick(tk);
            b.appendChild(el);
            tk.el = el;
            updateTokenPos(tk);
        });

        turn = 0;
        state = 'ROLL';
        updateUI();
    }
</script><script>
    function cToHex(c) { return ['#ff4757','#2ed573','#ffa502','#3742fa'][c]; }
    
    function updateTokenPos(tk) {
        let el = tk.el;
        if(tk.pos === -1) {
            // In Base positions
            let baseMap = [
                {r:1,c:1}, {r:1,c:4}, {r:4,c:1}, {r:4,c:4}, // R
                {r:1,c:10}, {r:1,c:13}, {r:4,c:10}, {r:4,c:13}, // G
                {r:10,c:10}, {r:10,c:13}, {r:13,c:10}, {r:13,c:13}, // Y
                {r:10,c:1}, {r:10,c:4}, {r:13,c:1}, {r:13,c:4} // B
            ];
            let offset = tk.c * 4 + tk.t;
            el.style.top = `calc(${(baseMap[offset].r * 6.66)}% + 3.33%)`;
            el.style.left = `calc(${(baseMap[offset].c * 6.66)}% + 3.33%)`;
            el.style.display = 'block';
        } else if (tk.pos === 57) {
            el.style.display = 'none'; // Won
        } else {
            let cd = getCoords(tk.pos, tk.c);
            el.style.top = `calc(${(cd.r * 6.66)}% + 3.33%)`;
            el.style.left = `calc(${(cd.c * 6.66)}% + 3.33%)`;
        }
    }

    function rollDice() {
        if(state !== 'ROLL') return;
        diceVal = Math.floor(Math.random() * 6) + 1;
        document.getElementById('dice').innerText = diceVal;
        
        // Check valid moves
        let movables = tokens.filter(tk => tk.c === turn && canMove(tk, diceVal));
        
        if(movables.length === 0) {
            state = 'WAIT';
            setTimeout(nextTurn, 1000);
        } else if (movables.length === 1 && playersType[turn] === 'human') {
            doMove(movables[0]);
        } else {
            state = 'MOVE';
            if(playersType[turn] === 'cpu') {
                setTimeout(() => aiMove(movables), 1000);
            } else {
                movables.forEach(tk => tk.el.classList.add('highlight'));
                document.getElementById('status-text').innerText = "Select a token to move";
            }
        }
    }

    function canMove(tk, d) {
        if(tk.pos === -1) return d === 6;
        if(tk.pos + d > 56) return false;
        return true;
    }

    function tokenClick(tk) {
        if(state !== 'MOVE' || tk.c !== turn || playersType[turn] !== 'human') return;
        if(canMove(tk, diceVal)) {
            doMove(tk);
        }
    }

    function doMove(tk) {
        tokens.forEach(t => t.el.classList.remove('highlight'));
        if(tk.pos === -1) tk.pos = 0; else tk.pos += diceVal;
        
        // Kill Check
        if(tk.pos < 51 && !isSafe(tk.pos)) { 
            let myCoord = getCoords(tk.pos, tk.c);
            let others = tokens.filter(t => t.c !== tk.c && t.pos !== -1 && t.pos < 51);
            others.forEach(o => {
                let opCoord = getCoords(o.pos, o.c);
                if(myCoord.r === opCoord.r && myCoord.c === opCoord.c) {
                    o.pos = -1; // Send home
                    updateTokenPos(o);
                }
            });
        }

        updateTokenPos(tk);
        
        if(diceVal === 6) {
            state = 'ROLL';
            document.getElementById('status-text').innerText = "Rolled 6! Roll again.";
            if(playersType[turn] === 'cpu') setTimeout(rollDice, 1000);
        } else {
            state = 'WAIT';
            setTimeout(nextTurn, 1000);
        }
    }

    function isSafe(relPos) { return [0,8,13,21,26,34,39,47].includes(relPos); }

    function nextTurn() {
        turn = (turn + 1) % 4;
        updateUI();
        state = 'ROLL';
        document.getElementById('dice').innerText = "üé≤";
        if(playersType[turn] === 'cpu') setTimeout(rollDice, 1000);
    }

    function updateUI() {
        const names = ["RED", "GREEN", "YELLOW", "BLUE"];
        const cols = [varColor('--ludo-r'), varColor('--ludo-g'), varColor('--ludo-y'), varColor('--ludo-b')];
        const el = document.getElementById('turn-text');
        el.innerText = names[turn] + "'S TURN";
        el.style.color = cols[turn];
        document.getElementById('status-text').innerText = playersType[turn] === 'human' ? "Tap Dice to Roll" : "CPU Thinking...";
    }
    
    function varColor(v) { return getComputedStyle(document.documentElement).getPropertyValue(v); }

    function aiMove(options) {
        let baseMove = options.find(t => t.pos === -1);
        if(baseMove && diceVal === 6) { doMove(baseMove); return; }
        let rand = options[Math.floor(Math.random() * options.length)];
        doMove(rand);
    }
</script>
</body>
</html>